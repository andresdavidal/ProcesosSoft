from bs4 import BeautifulSoup
import requests
from tabulate import tabulate

try:
 User_Id=input("Ingrese el id del usuario que desea encontrar: ")
 Id=str(User_Id)

 LinkUs="https://es.stackoverflow.com/users/"+Id

 Pag= requests.get(LinkUs)
 soup= BeautifulSoup(Pag.content,"html.parser")
 content_Users= soup.find('div',{'class':'grid--cell fw-bold'}).text

 print("El usuario que usted busco es: "+content_Users)
 print("URL: "+LinkUs)

 print("Sus etiquetas son: ")
 headers=["PUNTUACION  -  ETIQUETAS "]
 print(tabulate(headers))

 for page in range(1,15):
  LinkTag="https://es.stackoverflow.com/users/"+Id+"?tab=tags&sort=votes&page={:}".format(page)
  tag=requests.get(LinkTag)
  soupTag=BeautifulSoup(tag.content,"html.parser")
  content_UsersTag=soupTag.find_all("td")
  for vote in content_UsersTag:
    subtag=vote.find_all("a")
    sub=vote.find_all('div')
    print('{:^25}{:^60}'.format(sub[0].text,subtag[0].text))
    
except Exception as e:
    print("No existe un usuario con Id: "+ Id)
